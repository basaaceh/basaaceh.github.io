<!DOCTYPE html>
<html>
<head>
	<title>TERMINAL EMULATOR KAMUS BAHASA ACEH</title>
	<!-- Link CSS Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<!-- Link font ala komputer zaman dulu -->
	<link href="https://fonts.googleapis.com/css?family=VT323" rel="stylesheet">
    <style>
      body {
        background-color: #1c1c1c;
        color: #33ff00;
        font-family: 'VT323', monospace;
        font-size: 30px;
      }
 

      #terminal-container {
        width: 80%;
        margin: 50px auto;
      }

      #terminal-window {
    border: 2px solid #33ff00;
    border-radius: 5px;
    max-height: 100%; /* manyang kotak maksimum seutot bak panyang teks */
    overflow-y: auto; /* peudeuh scrollbar meunyo leupah penuh */
}


      #terminal-header {
        background-color: #1c1c1c;
        color: #33ff00;
        font-size: 16px;
        padding: 5px;
        text-align: center;
      }

      #terminal-body {
        padding: 10px;
      }

      #terminal-prompt {
        display: inline-block;
        margin-right: 5px;
      }

      #terminal-input {
        display: inline-block;
        min-width: 50px;
        outline: none;
      }

      #terminal-output {
        margin-top: 10px;
      }

      .terminal-typing {
        animation: terminal-typing 0.5s infinite;
      }

      @keyframes terminal-typing {
        from {
          opacity: 0.5;
        }
        to {
          opacity: 1;
        }
      }

      .terminal-blink {
        animation: terminal-blink 0.5s infinite;
      }

      @keyframes terminal-blink {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }
    </style>
     
    </head>
<body>


<!--<input type="text" id="terminal-input">-->
<audio id="keySound" src="https://basaaceh.github.io/api-terminal/click.wav"></audio>



	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header">
				<!-- Toggle Nav -->
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				 
				<a class="navbar-brand pull-right" href="#">
				<div style="font-size: 30px; line-height: 0.5; font-weight: bold; letter-spacing: 10px; color: #33ff00;">&#9679; &#9679;  &#9679;</div>
				</a>
			</div>
			<!-- Menu navigasi -->
			<div class="collapse navbar-collapse" id="myNavbar">
				<ul class="nav navbar-nav">
					<!--<li class="active"><a href="#">Beranda</a></li>-->
					<li><a href="#" id="tentang" style="color:#33ff00">Tentang</a></li>
					<li><a href="#" id="kontak" style="color:#33ff00">Kontak</a></li>
				</ul>
			</div>
		</div>
	</nav>
 
 
    <div id="terminal-container">
      <div id="terminal-window">
        <div id="terminal-header">TERMINAL EMULATOR KAMUS BASA ACEH</div>
        <div id="terminal-body">
          <div id="terminal-prompt">></div>
          <div id="terminal-input" contenteditable="true" autofocus></div>
          <div id="terminal-output"></div>
        </div>
      </div>
    </div>
    
    
    
   
    
    
    
    
    
    
    
    <script>
      const input = document.getElementById('terminal-input');
      const output = document.getElementById('terminal-output');

      input.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
          const command = input.innerText.trim().toLowerCase();
          input.innerText = '';
          output.innerHTML = `<div><span class="terminal-prompt">&gt;</span> ${command}</div>`;
          executeCommand(command);
        }
      });

// <!-- Meunyo klik link kontak maka hä¹ˆi fungsi -->
document.getElementById("kontak").addEventListener("click", fungsikontak);
document.getElementById("tentang").addEventListener("click", fungsitentang);
function fungsikontak() {
  executeCommand('kontak')
}
function fungsitentang() {
  executeCommand('tentang')
}


      function executeCommand(command) {
        switch (command) {
         
            
            
             case 'bantu':
             case 'help':
                 output.innerHTML = ''; //Peugleh ata awai meunyo na input bantu/case
           typeText('Perintah yang didukung:<br>help/bantuan: menampilkan pesan ini<br>clear/hapus: membersihkan teks pada layar');
            break;
            
            case 'kontak':
                output.innerHTML = ''; //Peugleh ata awai meunyo na input kontak
           typeText('Kontak:<br>Email: aliakbar@basaaceh.org');
            break;
            
            case 'tentang': 
                output.innerHTML = ''; //Peugleh ata awai meunyo na input kontak
            typeText('Terminal Emulator v.0.1<br>Oleh: Ali Akbar');
            break;
 
            
            
    case "copy":
   // salin key keyboard ke clipboard
    const key = response;
    navigator.clipboard.writeText(key)
      .then(() => {
        console.log(`Key ${key} berhasil disalin!`);
      })
      .catch(err => {
        console.error(`Gagal menyalin key: ${err}`);
      });
    break;
            
            
			
		case 'progress':
      output.innerHTML = 'Progress:';
      let progressBars = document.createElement('div');
      progressBars.classList.add('progress-bars');
      output.appendChild(progressBars);
      let progressBar1 = document.createElement('div');
      progressBar1.classList.add('progress-bar');
      progressBars.appendChild(progressBar1);
      let progressBar2 = document.createElement('div');
      progressBar2.classList.add('progress-bar');
      progressBars.appendChild(progressBar2);
      let progressBar3 = document.createElement('div');
      progressBar3.classList.add('progress-bar');
      progressBars.appendChild(progressBar3);
      let progress1 = 0;
      let progress2 = 0;
      let progress3 = 0;
      let interval1 = setInterval(function() {
        progress1 += 5;
        if(progress1 > 100) {
          clearInterval(interval1);
        } else {
          progressBar1.innerHTML = '#' + ' '.repeat((100-progress1)/5);
        }
      }, 100);
      let interval2 = setInterval(function() {
        progress2 += 2;
        if(progress2 > 100) {
          clearInterval(interval2);
        } else {
          progressBar2.innerHTML = '#' + ' '.repeat((100-progress2)/2);
        }
      }, 100);
      let interval3 = setInterval(function() {
        progress3 += 1;
        if(progress3 > 100) {
          clearInterval(interval3);
        } else {
          progressBar3.innerHTML = '#' + ' '.repeat(100-progress3);
        }
      }, 100);
      break;

	
			
			
			
			
            
            
            // peugleh teks watee ketik "clear"
          case 'clear':
          case 'bersihkan':
            output.innerHTML = '';
            break;
          default:
            //typeText(`Unknown command: ${command}`);
            fetch(`https://basaaceh.github.io/api-terminal/${command}.txt`)
    .then(response => response.text())
    .then(data => {
     
     //Meunyo bak API Github 404 na "not found" output = "Tidak ditemukan"
function bileueng(a,b,e){if(a+="",(b+="").length<=0)return a.length+1;for(var d=0,c=0,f=e?1:b.length;;)if((c=a.indexOf(b,c))>=0)++d,c+=f;else break;return d}
if(bileueng(data,'not found')>0){
    typeText(`Kata "${command}" tidak ada atau belum ada dalam database`)
}
else{
    typeText(data);
}
    
    })
    .catch(error => console.error(error));
  break;

        }
      }
      
 

//menutup form input beberapa saat ketika output sedang tampil mengetik
//waktu lamanya diatur pada setTimeout
// Mengambil elemen dengan id "editable"
var editable = document.getElementById("terminal-input");

// Mendefinisikan fungsi untuk mengubah contenteditable menjadi false
function disableEditing() {
  editable.setAttribute("contenteditable", "false");
}

// Mendefinisikan fungsi untuk mengubah contenteditable menjadi true
function enableEditing() {
  editable.setAttribute("contenteditable", "true");
}

// Menambahkan event listener untuk menangani ketika pengguna menekan tombol "Enter"
editable.addEventListener("keydown", function(event) {
  if (event.keyCode === 13) { // Jika tombol yang ditekan adalah Enter
    disableEditing(); // Mengubah contenteditable menjadi false
    setTimeout(enableEditing, 5000); 
  }
});

 
 
 
 
 
 
 
 

  function typeText(text) {
  let index = 0;
  const intervalId = setInterval(() => {
    if (text[index] === '<') {
      const closingBracketIndex = text.indexOf('>', index);
      if (closingBracketIndex !== -1) {
        output.innerHTML += text.slice(index, closingBracketIndex + 1);
        index = closingBracketIndex + 1;
        output.innerHTML += '<br>';
        return;
      }
    }
    output.innerHTML += text[index];
   
    index++;
     
    if (index === text.length) {
      clearInterval(intervalId);
        
    
      if (output.innerHTML.slice(-4) !== '<br>') {
       output.innerHTML += '<br>';
      }
    }
  }, 50);
}

    </script>
  <!-- Link JS Bootstrap -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
 
  </body>
</html>
